# Ethics Application System Backend authentication Module
This module secures the API backend by requiring users to register an account with the system and then to use that account
to authenticate to the API by using a JWT token generated by login.

An account is separate to a user profile. In the context of the backend, the account contains only the user's username, email
and password, i.e., the only information required for authentication. The [users](../users) module provides user profile information
and user role management.

## Endpoints
All endpoints in this module begin with the path `/api/auth`. The endpoints are outlined below:

| Endpoint       | Method | Description                                                                                                                                       |
|----------------|--------|---------------------------------------------------------------------------------------------------------------------------------------------------|
| /register      | POST   | This endpoint allows a user to create an account in the system if the account doesn't already exist                                               |
| /login         | POST   | This endpoint allows authentication of an account to generate a JWT token                                                                         |
| /account       | GET    | This endpoint allows the retrieval of an account                                                                                                  |
|                | PUT    | This endpoint allows a user to update the password of their own account.                                                                          |
| /admin/account | PUT    | This endpoint allows an admin to update the account of any user in the system. This should be locked by the users module with an Admin permission |

Note that all endpoints in the system (except for register and login) require the following header:
```
Authorization: Bearer <jwt-token>
```
The jwt-token is returned by a successful request to the login endpoint

## Configuration
The following configuration properties are provided by the authentication module in [application.ethics.properties](src/main/authentication.ethics.properties)
file:
* `auth.jwt.secret`: This is a secret key that needs to be defined before the system is started initially. It needs to be
    at least 35 characters long. It should not be changed after the system is started, since JWT tokens will not be able
    to be parsed
* `auth.jwt.token.validity`: The number of hours the JWT tokens should be valid for

